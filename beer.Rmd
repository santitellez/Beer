---
title: "Craft Beer"
author: "Santiago Tellez"
date: "1/25/2019"
output: pdf_document
---

#Loading Packages
```{r, echo=FALSE, warning=FALSE, message=FALSE}
if (!require("pacman")) install.packages("pacman")
pacman::p_load('stringr',
               'knitr',
               'ggplot2',
               'astsa',
               'lubridate',
               'ggmap',
               'maps',
               'mapdata')
```

#Loading Data
```{r, echo=FALSE}
opts_knit$set(root.dir = normalizePath("../"))

beers <- read.csv("craft-cans/beers.csv", stringsAsFactors = FALSE)
breweries <- read.csv("craft-cans/breweries.csv", stringsAsFactors = FALSE)

beers_and_brewery <- merge(beers, breweries, by.x = "brewery_id", by.y = "X")
```

#Beer Stats by Brewery
```{r, echo=FALSE, warning=FALSE, message=FALSE}
avg_brewery <- aggregate(beers_and_brewery, list(Brewery = beers_and_brewery$name.y), FUN = mean)
avg_state <- aggregate(beers_and_brewery, list(Brewery = beers_and_brewery$state), FUN = mean)
```

#Maps
```{r, echo=FALSE}
states <- map_data("state")
states <- merge(states, beers_and_brewery)

states_abv <- ggplot(data = states) + 
  geom_polygon(aes(x = long, y = lat, fill = region, group = group), color = "white") + 
  coord_fixed(1.3) +
  guides(fill = FALSE)
```



